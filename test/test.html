<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="icon" href="https://cdn.cocreate.app/favicon.ico" type="image/ico" sizes="16x16">
        <title>Admin | CoCreate</title>
        
        <!-- CoCreateCSS -->
        <link rel="stylesheet" href="https://server.cocreate.app/css/CoCreate.min.css" type="text/css" />
        
        <!-- Font Awesome -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css" crossorigin="anonymous" /> 
    
    </head>
    <body>
       
        <div class="padding:10px">
            <input class="floating-label" data-test_id="filter_test" placeholder="Search">
            <input class="floating-label" data-test_id="filter_test" placeholder="Color" data-filter_name="color" >
        </div>
        
    <div class="display:flex flex-wrap:wrap" data-fetch_collection="module_activity" data-test_id="filter_test" data-fetch_count="10" >
      
        <div class="card template margin:10px flex-grow:1 min-width:250px" data-test_id="filter_test">
          <img name="name" data-document_id="" src="http://via.placeholder.com/250x250/BF00FF/ffffff/" width="100%" alt="...">
          <div class="padding:15px">
            <h5 class="" data-collection="{{collection}}" data-document_id="{{data._id}}" name="name">Item Name</h5>
            <p class="" data-document_id="{{data._id}}" name="color"></p>
            <p class="" data-document_id="{{data._id}}" name="price">$0</p>
            <p class="" data-document_id="{{data._id}}" name="description"></p>

            <a href="#" class="btn btn-primary">More details</a>
          </div>
        </div>
      </div>
        
        <script>
            var config = {
                apiKey: 'c2b08663-06e3-440c-ef6f-13978b42883a',
                securityKey: 'f26baf68-e3a9-45fc-effe-502e47116265',
                organization_Id: '5de0387b12e200ea63204d6c'
            }
        </script>
        
        <!--CoCreateJS-->
        <script src="https://server.cocreate.app/js/CoCreate.min.js"></script>
        <!--<script src="./test.js"></script>-->
        
        <script>
            function renderFunc(data) {
                console.log('render data--------------------------------------')
                console.log(data);
            }

            CoCreate.filter.add({
                name: 'test',
                attribute: 'data-test_id',
                callback: function(response) {
                    const {element, data, collection} = response;
                    // CoCreate.render.data(`[data-test_id='${element}'][data-fetch_collection='${collection}'] > .template`, data);
                    
                    CoCreate.render.data(`[data-test_id='${element}'][data-fetch_collection='${collection}']`, response);
                }
            });

        </script>
    
    </body>
</html>